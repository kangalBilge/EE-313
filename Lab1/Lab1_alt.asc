Version 4
SHEET 1 880 680
WIRE 128 -128 -32 -128
WIRE -480 -112 -560 -112
WIRE -480 -64 -480 -112
WIRE 448 -16 352 -16
WIRE 512 -16 448 -16
WIRE -816 0 -816 -32
WIRE 288 0 240 0
WIRE -816 32 -816 0
WIRE -112 32 -112 -128
WIRE -112 32 -176 32
WIRE -80 32 -112 32
WIRE 64 48 -16 48
WIRE 128 48 128 -128
WIRE 128 48 64 48
WIRE 240 48 240 0
WIRE 240 48 208 48
WIRE -80 64 -128 64
WIRE -496 112 -560 112
WIRE -480 112 -496 112
WIRE -128 112 -128 64
WIRE -128 112 -208 112
WIRE 240 112 240 48
WIRE 304 112 240 112
WIRE 448 112 448 -16
WIRE 448 112 384 112
WIRE -128 144 -128 112
WIRE -480 160 -480 112
WIRE -816 192 -816 112
WIRE -816 192 -848 192
WIRE -800 192 -816 192
FLAG -928 192 0
FLAG -48 16 Vsup
FLAG -480 0 0
FLAG -480 224 0
FLAG -480 -112 tempdep
FLAG -640 -112 Vsup
FLAG -496 112 indep
FLAG -128 224 0
FLAG -256 32 tempdep
FLAG -288 112 indep
FLAG -800 192 Vsup
FLAG -640 112 Vsup
FLAG 320 -48 Vsup
FLAG 320 16 0
FLAG 512 128 0
FLAG 288 -32 Vref
FLAG -816 -112 0
FLAG -816 0 Vref
FLAG -48 80 0
FLAG 64 48 Vout
FLAG 448 -16 Vcomp_out
SYMBOL voltage -832 192 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 32 56 VTop 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 15
SYMBOL OpAmps\\opamp2 -48 -16 R0
SYMATTR InstName U2
SYMATTR Value LM324
SYMBOL diode -496 160 R0
SYMATTR InstName D1
SYMATTR Value 1N4148
SYMBOL diode -496 -64 R0
SYMATTR InstName D2
SYMATTR Value 1N4148
SYMATTR Value2 temp={t1}
SYMBOL res -544 -128 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 13.8k
SYMBOL res -544 96 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 10k
SYMBOL res -160 16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 1k
SYMBOL res -192 96 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 1k
SYMBOL res -112 240 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R5
SYMATTR Value 520k
SYMBOL res -128 -112 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R6
SYMATTR Value 520k
SYMBOL OpAmps\\opamp2 320 -80 R0
SYMATTR InstName U1
SYMATTR Value LM324
SYMBOL res 224 32 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 1k
SYMBOL LED 496 64 R0
SYMATTR InstName D3
SYMATTR Value L128-DRD1003500000
SYMBOL res 496 -32 R0
SYMATTR InstName R8
SYMATTR Value 1k
SYMBOL res -832 16 R0
SYMATTR InstName R11
SYMATTR Value 300k
SYMBOL res -832 -128 R0
SYMATTR InstName R12
SYMATTR Value 700k
SYMBOL res 400 96 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R13
SYMATTR Value 130k
TEXT -16 184 Left 2 !.lib LM324.ti.lib
TEXT -16 216 Left 2 !.temp 22
TEXT -16 248 Left 2 !.step param t1 18 28
TEXT -16 280 Left 2 !.op
