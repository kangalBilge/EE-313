Version 4
SHEET 1 1892 1172
WIRE 368 0 320 0
WIRE 512 0 448 0
WIRE 1104 48 1056 48
WIRE 1264 48 1184 48
WIRE 1392 64 1328 64
WIRE 1408 64 1392 64
WIRE 1520 64 1488 64
WIRE 1248 80 1216 80
WIRE 1264 80 1248 80
WIRE 1520 80 1520 64
WIRE 16 112 -64 112
WIRE 176 112 96 112
WIRE 320 112 320 0
WIRE 320 112 256 112
WIRE 368 112 320 112
WIRE 1216 112 1216 80
WIRE 512 128 512 0
WIRE 512 128 432 128
WIRE 720 128 512 128
WIRE 368 144 256 144
WIRE 720 160 720 128
WIRE 1248 192 1248 80
WIRE 1280 192 1248 192
WIRE 1392 192 1392 64
WIRE 1392 192 1360 192
WIRE 1520 192 1520 144
WIRE 1216 224 1216 192
WIRE 1216 224 1056 224
WIRE 64 288 64 240
WIRE 528 288 448 288
WIRE 624 288 592 288
WIRE 624 384 624 288
WIRE 624 384 576 384
WIRE 640 384 624 384
WIRE 720 384 720 240
WIRE 64 400 64 368
WIRE 256 400 256 144
WIRE 256 400 64 400
WIRE 320 400 256 400
WIRE 448 400 448 288
WIRE 448 400 400 400
WIRE 512 400 448 400
WIRE 624 416 576 416
WIRE 1104 416 1056 416
WIRE 1280 416 1184 416
WIRE 64 432 64 400
WIRE 1392 432 1344 432
WIRE 1408 432 1392 432
WIRE 1520 432 1488 432
WIRE 1248 448 1216 448
WIRE 1280 448 1248 448
WIRE 1520 448 1520 432
WIRE 624 464 624 416
WIRE 736 464 624 464
WIRE 848 464 816 464
WIRE 1216 496 1216 448
WIRE 64 544 64 512
WIRE 1248 544 1248 448
WIRE 1280 544 1248 544
WIRE 1392 544 1392 432
WIRE 1392 544 1360 544
WIRE 1520 560 1520 512
WIRE 1216 624 1216 576
WIRE 1216 624 1056 624
WIRE 416 848 288 848
WIRE 528 848 416 848
WIRE 640 848 528 848
WIRE 288 896 288 848
WIRE 416 896 416 848
WIRE 528 896 528 848
WIRE 640 896 640 848
WIRE 416 1024 416 976
WIRE 528 1024 528 976
WIRE 640 1024 640 976
WIRE 416 1072 416 1024
WIRE 528 1072 528 1024
WIRE 640 1072 640 1024
FLAG -64 112 0
FLAG 400 160 0
FLAG 400 96 Vcc
FLAG 64 544 0
FLAG 672 176 0
FLAG 672 224 Vcon
FLAG 720 128 Vout
FLAG 544 368 Vcc
FLAG 544 432 0
FLAG 848 464 Vref
FLAG 1296 96 0
FLAG 1520 192 0
FLAG 1312 464 0
FLAG 1520 560 0
FLAG 1056 48 Vout
FLAG 1056 624 Vout
FLAG 1056 224 Vsouth
FLAG 1056 416 Vnorth
FLAG 1296 32 Vcc
FLAG 1312 400 Vcc
FLAG 288 720 0
FLAG 416 720 0
FLAG 288 976 0
FLAG 288 640 Vcc
FLAG 416 640 Vcon
FLAG 416 1152 0
FLAG 528 1152 0
FLAG 640 1152 0
FLAG 640 1024 Vref
FLAG 528 1024 Vsouth
FLAG 416 1024 Vnorth
FLAG -16 240 0
SYMBOL voltage 112 112 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 32 56 VTop 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName Vhall
SYMATTR Value SINE(3 0.6mV 10 1)
SYMBOL res 272 96 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 10k
SYMBOL OpAmps\\opamp2 400 64 R0
SYMATTR InstName U1
SYMATTR Value LM324
SYMBOL res 464 -16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 10Meg
SYMBOL res 48 272 R0
SYMATTR InstName R3
SYMATTR Value 8.2k
SYMBOL res 48 416 R0
SYMATTR InstName R4
SYMATTR Value 8.2k
SYMBOL res 416 384 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 100
SYMBOL sw 720 144 R0
SYMATTR InstName S1
SYMBOL OpAmps\\opamp2 544 336 M0
SYMATTR InstName U2
SYMATTR Value TL084
SYMBOL cap 592 272 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 0.82µF
SYMBOL res 736 368 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 1Meg
SYMBOL res 832 448 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 1k
SYMBOL OpAmps\\opamp2 1296 0 R0
SYMATTR InstName U3
SYMATTR Value LM324
SYMBOL res 1200 32 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 1k
SYMBOL res 1232 208 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R9
SYMATTR Value 1k
SYMBOL OpAmps\\opamp2 1312 368 R0
SYMATTR InstName U4
SYMATTR Value LM324
SYMBOL res 1200 400 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R10
SYMATTR Value 1k
SYMBOL res 1232 592 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R11
SYMATTR Value 1k
SYMBOL voltage 288 624 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 15
SYMBOL voltage 416 624 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value PULSE(0 10 0.4 0 0 0.2 5)
SYMBOL voltage 288 880 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value 6V
SYMBOL res 512 880 R0
SYMATTR InstName R12
SYMATTR Value 1.8k
SYMBOL res 512 1056 R0
SYMATTR InstName R13
SYMATTR Value 5.6k
SYMBOL res 400 880 R0
SYMATTR InstName R14
SYMATTR Value 120
SYMBOL res 400 1056 R0
SYMATTR InstName R15
SYMATTR Value 1.2k
SYMBOL res 624 880 R0
SYMATTR InstName R16
SYMATTR Value 1k
SYMBOL res 624 1056 R0
SYMATTR InstName R17
SYMATTR Value 5k
SYMBOL res 1376 176 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R18
SYMATTR Value 100k
SYMBOL res 1376 528 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R19
SYMATTR Value 100k
SYMBOL voltage 80 240 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 32 56 VTop 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value 6
SYMBOL res 1504 48 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R20
SYMATTR Value 2K
SYMBOL res 1504 416 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R21
SYMATTR Value 2K
SYMBOL LED 1504 80 R0
SYMATTR InstName D1
SYMATTR Value LXK2-PW14
SYMBOL LED 1504 448 R0
SYMATTR InstName D2
SYMATTR Value LXK2-PW14
TEXT -480 680 Left 2 !.model SW SW(Ron=0.1 Roff=1000Meg Vt=5 Vh=0)
TEXT -480 712 Left 2 !.include TL084.txt
TEXT -480 744 Left 2 !.include LM324.txt
TEXT -480 776 Left 2 !.include TL062.txt
TEXT -480 808 Left 2 !.tran 190
TEXT -480 840 Left 2 ;.temp 50
TEXT -472 872 Left 2 !.options cshunt=1e-15
TEXT -464 904 Left 2 !.options reltol=0.003
TEXT -472 936 Left 2 !.options abstol=1e-10
TEXT -464 968 Left 2 !.options gmin=1e-10
