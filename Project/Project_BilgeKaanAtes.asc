Version 4
SHEET 1 1460 776
WIRE 176 -208 176 -256
WIRE 832 -192 560 -192
WIRE 832 -128 832 -192
WIRE 176 -112 176 -128
WIRE 560 -112 560 -192
WIRE 560 -112 176 -112
WIRE 800 -112 784 -112
WIRE 640 -96 528 -96
WIRE 784 -96 784 -112
WIRE 784 -96 720 -96
WIRE 1056 -96 864 -96
WIRE 1088 -96 1056 -96
WIRE 1264 -96 1168 -96
WIRE 1344 -96 1264 -96
WIRE 1440 -96 1408 -96
WIRE 800 -80 784 -80
WIRE 784 -64 784 -80
WIRE 784 -64 736 -64
WIRE 784 -48 784 -64
WIRE 960 -48 784 -48
WIRE 1056 -48 1056 -96
WIRE 1056 -48 1040 -48
WIRE 32 -32 -16 -32
WIRE 240 -32 112 -32
WIRE 400 -32 240 -32
WIRE 496 -32 400 -32
WIRE 624 -32 496 -32
WIRE 336 16 336 -16
WIRE 624 16 624 -32
WIRE 736 16 624 16
WIRE 144 32 48 32
WIRE 176 32 176 -112
WIRE 176 32 144 32
WIRE 560 48 560 -112
WIRE 832 48 560 48
WIRE 48 80 48 32
WIRE -288 96 -336 96
WIRE -160 96 -208 96
WIRE -16 96 -16 -32
WIRE -16 96 -80 96
WIRE 16 96 -16 96
WIRE 240 112 240 -32
WIRE 240 112 80 112
WIRE 832 112 832 48
WIRE 16 128 -16 128
WIRE 368 128 352 128
WIRE 496 128 496 -32
WIRE 704 128 496 128
WIRE 800 128 784 128
WIRE -16 144 -16 128
WIRE 400 144 400 -32
WIRE 944 144 864 144
WIRE 1024 144 944 144
WIRE 1184 144 1104 144
WIRE 1264 144 1184 144
WIRE 1408 144 1328 144
WIRE 352 160 352 128
WIRE 624 160 608 160
WIRE 784 160 704 160
WIRE 800 160 784 160
WIRE 176 176 96 176
WIRE 192 176 176 176
WIRE 240 176 224 176
WIRE 272 176 240 176
WIRE 336 208 336 96
WIRE 352 208 336 208
WIRE 144 224 144 32
WIRE 176 224 144 224
WIRE 176 240 176 224
WIRE 208 240 176 240
WIRE 784 240 784 160
WIRE 864 240 784 240
WIRE 944 240 944 144
WIRE -320 256 -352 256
WIRE -160 256 -240 256
WIRE -16 256 -16 224
WIRE -16 256 -160 256
WIRE 16 256 -16 256
WIRE 96 256 96 176
WIRE -160 272 -160 256
WIRE 208 288 208 240
WIRE 272 304 272 176
WIRE 272 304 240 304
WIRE 320 304 272 304
WIRE 400 304 400 224
WIRE 608 304 608 160
WIRE 640 304 608 304
WIRE 768 304 720 304
WIRE 96 320 96 256
WIRE 176 320 96 320
WIRE 272 336 240 336
WIRE -160 368 -160 352
WIRE 16 368 -160 368
WIRE 608 368 608 304
WIRE 448 384 416 384
WIRE 528 384 528 -96
WIRE -160 400 -160 368
WIRE 16 416 16 368
WIRE 96 416 16 416
WIRE 144 416 96 416
WIRE 272 416 224 416
WIRE 272 432 272 416
WIRE -160 480 -160 464
WIRE 528 496 528 384
WIRE -160 512 -160 480
WIRE 96 576 96 416
WIRE 528 576 96 576
WIRE 608 576 608 448
WIRE 608 576 528 576
FLAG -336 96 0
FLAG -160 512 0
FLAG -352 256 0
FLAG 176 -256 0
FLAG 208 352 0
FLAG 48 144 0
FLAG 368 128 0
FLAG 336 -16 0
FLAG 272 512 0
FLAG 400 -32 Vout
FLAG 1408 144 0
FLAG 1440 -96 0
FLAG 832 176 0
FLAG 832 -64 0
FLAG 768 304 0
FLAG 416 384 0
FLAG 1264 -96 LED_north
FLAG 1184 144 LED_south
SYMBOL OpAmps\\opamp2 48 48 R0
SYMATTR InstName U1
SYMATTR Value LM358
SYMBOL voltage -192 96 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName Hall_Sensor
SYMATTR Value SINE(3 0.6m 10 1)
SYMBOL res -64 80 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 10k
SYMBOL res 16 -16 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R2
SYMATTR Value 10Meg
SYMBOL sw 400 128 R0
SYMATTR InstName Switch
SYMBOL voltage -160 384 R0
SYMATTR InstName 6V_regulator
SYMATTR Value 6
SYMBOL res -176 256 R0
SYMATTR InstName R3
SYMATTR Value 1.2k
SYMBOL res -224 240 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 1k
SYMBOL OpAmps\\opamp2 208 256 M0
SYMATTR InstName U2
SYMATTR Value TL084
SYMBOL cap 240 160 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 0.82µ
SYMBOL res 112 240 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 10k
SYMBOL res 416 288 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 100k
SYMBOL voltage 176 -112 R180
WINDOW 0 24 96 Left 2
WINDOW 3 24 16 Left 2
SYMATTR InstName Vcc
SYMATTR Value 15
SYMBOL voltage 336 112 R180
WINDOW 0 24 96 Left 2
WINDOW 3 24 16 Left 2
SYMATTR InstName Vswitch
SYMATTR Value PULSE(0 10 0.4 0 0 0.2 5 1)
SYMBOL res 288 528 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R7
SYMATTR Value 100k
SYMBOL res 240 400 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 18k
SYMBOL res 256 320 R0
SYMATTR InstName R9
SYMATTR Value 1k
SYMBOL OpAmps\\opamp2 832 -160 R0
SYMATTR InstName U3
SYMATTR Value LM358
SYMBOL OpAmps\\opamp2 832 80 R0
SYMATTR InstName U4
SYMATTR Value LM358
SYMBOL res 800 112 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R11
SYMATTR Value 1k
SYMBOL res 720 -80 R0
SYMATTR InstName R12
SYMATTR Value 1k
SYMBOL res 1056 -64 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R13
SYMATTR Value 120k
SYMBOL res 720 144 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R14
SYMATTR Value 1k
SYMBOL res 960 224 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R15
SYMATTR Value 390k
SYMBOL LED 1264 160 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
SYMATTR Value LXZ1-PD01
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL res 1120 128 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R16
SYMATTR Value 2k
SYMBOL res 1184 -112 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R17
SYMATTR Value 2k
SYMBOL LED 1344 -80 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D2
SYMATTR Value LXZ1-PD01
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL res -32 128 R0
SYMATTR InstName R18
SYMATTR Value 1k
SYMBOL res 736 -112 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R10
SYMATTR Value 1k
SYMBOL res 736 288 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R19
SYMATTR Value 15k
SYMBOL res 624 464 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R20
SYMATTR Value 4.7k
SYMBOL res 512 480 R0
SYMATTR InstName R21
SYMATTR Value 5.6k
SYMBOL res 544 368 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R22
SYMATTR Value 56k
TEXT -704 360 Left 2 !.options cshunt=1e-15
TEXT -696 408 Left 2 !.options reltol=0.003
TEXT -696 456 Left 2 !.options abstol=1e-10
TEXT -696 504 Left 2 !.options gmin=1e-10
TEXT -696 560 Left 2 !.model SW SW(Ron=0.1 Roff=1000Meg Vt=5 Vh=0)
TEXT -688 608 Left 2 !.include TL084.txt
TEXT -696 656 Left 2 !.include LM358.txt
TEXT -696 712 Left 2 !.include TL062.txt
TEXT -696 760 Left 2 !.tran 0 10 0 0.01
TEXT -432 624 Left 2 !.include LM324.txt
